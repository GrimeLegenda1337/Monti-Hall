<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Monti-hall</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_green.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2024-09-05T15:23:32+03:00">2024-09-05T15:23:32+03:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="green">
  96.21%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         1236417.46
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>4</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>132</b> relevant lines,
    <span class="green"><b>127</b> lines covered</span> and
    <span class="red"><b>5</b> lines missed. </span>
    (<span class="green">
  96.21%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#0ff3af74d418e6bced0211c9465026d7c72dde10" class="src_link" title="door.rb">door.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">47</td>
            <td class="cell--number">22</td>
            <td class="cell--number">22</td>
            <td class="cell--number">0</td>
            <td class="cell--number">19109.64</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f1b44cc59f7d317d78965755ddb607b10976cb42" class="src_link" title="game.rb">game.rb</a></td>
            <td class="green strong cell--number t-file__coverage">98.33 %</td>
            <td class="cell--number">120</td>
            <td class="cell--number">60</td>
            <td class="cell--number">59</td>
            <td class="cell--number">1</td>
            <td class="cell--number">5675.63</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5a5e962fab4854505decdf4607f440b301fd34df" class="src_link" title="player.rb">player.rb</a></td>
            <td class="red strong cell--number t-file__coverage">78.95 %</td>
            <td class="cell--number">47</td>
            <td class="cell--number">19</td>
            <td class="cell--number">15</td>
            <td class="cell--number">4</td>
            <td class="cell--number">17906.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#47e043f5c70714b058ed034e4d3a04955184365e" class="src_link" title="simulation.rb">simulation.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">48</td>
            <td class="cell--number">31</td>
            <td class="cell--number">31</td>
            <td class="cell--number">0</td>
            <td class="cell--number">5229223.90</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.22.0
        and simplecov-html v0.12.3<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="0ff3af74d418e6bced0211c9465026d7c72dde10">
  <div class="header">
    <h3>door.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>22</b> relevant lines.
      <span class="green"><b>22</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30012" data-linenumber="3">
            <span class="hits">30012</span>
            

            

            <code class="ruby">    raise ArgumentError, &quot;Допустим только целочисленный тип данных&quot; unless id.is_a?(Integer)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30011" data-linenumber="4">
            <span class="hits">30011</span>
            

            

            <code class="ruby">    @id = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30011" data-linenumber="5">
            <span class="hits">30011</span>
            

            

            <code class="ruby">    @win_status = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="30011" data-linenumber="6">
            <span class="hits">30011</span>
            

            

            <code class="ruby">    @open_status = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def set(parameter, value)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20009" data-linenumber="10">
            <span class="hits">20009</span>
            

            

            <code class="ruby">    if parameter == :id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">      raise ArgumentError, &quot;Запрет на изменение параметра id&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20008" data-linenumber="13">
            <span class="hits">20008</span>
            

            

            <code class="ruby">    unless [true, false].include? value</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="14">
            <span class="hits">2</span>
            

            

            <code class="ruby">      raise ArgumentError, &quot;Значение параметра должно быть true/false&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20006" data-linenumber="16">
            <span class="hits">20006</span>
            

            

            <code class="ruby">    case parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    when :win_status</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10003" data-linenumber="18">
            <span class="hits">10003</span>
            

            

            <code class="ruby">      @win_status = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    when :open_status</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10002" data-linenumber="20">
            <span class="hits">10002</span>
            

            

            <code class="ruby">      @open_status = value</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">      raise ArgumentError, &quot;Неизвестный параметр #{parameter}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def get(parameter)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="110165" data-linenumber="27">
            <span class="hits">110165</span>
            

            

            <code class="ruby">    case parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    when :win_status</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20003" data-linenumber="29">
            <span class="hits">20003</span>
            

            

            <code class="ruby">      @win_status</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    when :open_status</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10055" data-linenumber="31">
            <span class="hits">10055</span>
            

            

            <code class="ruby">      @open_status</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    when :id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="80106" data-linenumber="33">
            <span class="hits">80106</span>
            

            

            <code class="ruby">      @id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">      raise ArgumentError, &quot;Неизвестный параметр #{parameter}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private attr_accessor :win_status, :open_status, :id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"># Дверь.В каждой игре их 3, id задаётся выше, при создании трёх дверей на &quot;сцене&quot;.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"># Кроме id, есть два нужных атрибута: выигрышная ли дверь и открыта ли она.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"># Выигрышность задаётся лишь одной из двере при инициализации игры. Открытость меняется от действия ведущего</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"># Открытость храним для переформирования выборки дверей для ведущего и игрока на втором ходу</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"># Нижний класс, доступы через get/set. На возможные места поставлены ArgumentError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"># сторонние функцию типо is_win_door и т.п. убраны, т.к. всего пару мест применения</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f1b44cc59f7d317d78965755ddb607b10976cb42">
  <div class="header">
    <h3>game.rb</h3>
    <h4>
      <span class="green">
  98.33%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>60</b> relevant lines.
      <span class="green"><b>59</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;door&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;player&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Game</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_reader :doors, :player, :winning_door</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(behaviour)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10018" data-linenumber="8">
            <span class="hits">10018</span>
            

            

            <code class="ruby">    unless [:classic, :devil, :angel].include?(behaviour)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="9">
            <span class="hits">2</span>
            

            

            <code class="ruby">      raise ArgumentError, &quot;Неизвестный вариант поведения ведущего #{behaviour}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="40062" data-linenumber="11">
            <span class="hits">40062</span>
            

            

            <code class="ruby">    @doors = Array.new(3) { |i| Door.new(i + 1) }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10015" data-linenumber="12">
            <span class="hits">10015</span>
            

            

            <code class="ruby">    @winning_door = @doors.sample</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10015" data-linenumber="13">
            <span class="hits">10015</span>
            

            

            <code class="ruby">    @winning_door.set(:win_status, true)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10015" data-linenumber="14">
            <span class="hits">10015</span>
            

            

            <code class="ruby">    @player = Player.new</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10014" data-linenumber="15">
            <span class="hits">10014</span>
            

            

            <code class="ruby">    @host_behaviour = behaviour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def player_choose_door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10009" data-linenumber="19">
            <span class="hits">10009</span>
            

            

            <code class="ruby">    @player.set(:door_chosen, @doors.sample.get(:id))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def player_choose_door_2</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5028" data-linenumber="23">
            <span class="hits">5028</span>
            

            

            <code class="ruby">    chosen_door_id = @player.get(:door_chosen)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5028" data-linenumber="24">
            <span class="hits">5028</span>
            

            

            <code class="ruby">    remaining_doors = @doors.reject do |door|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15084" data-linenumber="25">
            <span class="hits">15084</span>
            

            

            <code class="ruby">      door.get(:id) == chosen_door_id || door.get(:open_status)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5028" data-linenumber="27">
            <span class="hits">5028</span>
            

            

            <code class="ruby">    if remaining_doors.any?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5028" data-linenumber="28">
            <span class="hits">5028</span>
            

            

            <code class="ruby">      new_door = remaining_doors.sample</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5028" data-linenumber="29">
            <span class="hits">5028</span>
            

            

            <code class="ruby">      @player.set(:door_chosen, new_door.get(:id))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def host_choose_door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10005" data-linenumber="34">
            <span class="hits">10005</span>
            

            

            <code class="ruby">    first_pick_id = @player.get(:door_chosen)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="40020" data-linenumber="35">
            <span class="hits">40020</span>
            

            

            <code class="ruby">    host_last_doors = @doors.reject { |door| door.get(:id) == first_pick_id || door.get(:win_status) }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10005" data-linenumber="36">
            <span class="hits">10005</span>
            

            

            <code class="ruby">    if host_last_doors.size == 1</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6699" data-linenumber="37">
            <span class="hits">6699</span>
            

            

            <code class="ruby">      host_chosen_door = host_last_doors.first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3306" data-linenumber="39">
            <span class="hits">3306</span>
            

            

            <code class="ruby">      host_chosen_door = host_last_doors.sample</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10005" data-linenumber="41">
            <span class="hits">10005</span>
            

            

            <code class="ruby">    host_chosen_door.set(:open_status, true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def check_win</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="20011" data-linenumber="45">
            <span class="hits">20011</span>
            

            

            <code class="ruby">    @player.set(:win_status, @player.get(:door_chosen) == @winning_door.get(:id))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def behaviour_variator</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10006" data-linenumber="49">
            <span class="hits">10006</span>
            

            

            <code class="ruby">    check_win</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10006" data-linenumber="50">
            <span class="hits">10006</span>
            

            

            <code class="ruby">    case @host_behaviour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    when :classic</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10002" data-linenumber="52">
            <span class="hits">10002</span>
            

            

            <code class="ruby">      offer_change_classic</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    when :devil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="54">
            <span class="hits">2</span>
            

            

            <code class="ruby">      offer_change_devil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    when :angel</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="56">
            <span class="hits">2</span>
            

            

            <code class="ruby">      offer_change_angel</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="58">
            
            

            

            <code class="ruby">      raise ArgumentError, &quot;Неизвестный вариант поведения ведущего #{@host_behaviour}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def offer_change_classic</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10001" data-linenumber="63">
            <span class="hits">10001</span>
            

            

            <code class="ruby">    host_choose_door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10001" data-linenumber="64">
            <span class="hits">10001</span>
            

            

            <code class="ruby">    change_decision = [true, false].sample</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10001" data-linenumber="65">
            <span class="hits">10001</span>
            

            

            <code class="ruby">    if change_decision</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5027" data-linenumber="66">
            <span class="hits">5027</span>
            

            

            <code class="ruby">      @player.set(:change_status, true)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5027" data-linenumber="67">
            <span class="hits">5027</span>
            

            

            <code class="ruby">      player_choose_door_2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10001" data-linenumber="69">
            <span class="hits">10001</span>
            

            

            <code class="ruby">    check_win</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def offer_change_devil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">    if check_win</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">      host_choose_door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @player.set(:change_status, [true, false].sample)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">      player_choose_door_2 if @player.get(:change_status)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">      check_win</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def offer_change_angel</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">    unless check_win</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">      host_choose_door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">      change_decision = [true, false].sample</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">      @player.set(:change_status, change_decision)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">      player_choose_door_2 if change_decision</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            <span class="hits">1</span>
            

            

            <code class="ruby">      check_win</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def simulate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10006" data-linenumber="92">
            <span class="hits">10006</span>
            

            

            <code class="ruby">    player_choose_door</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10006" data-linenumber="93">
            <span class="hits">10006</span>
            

            

            <code class="ruby">    behaviour_variator</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"># Основной класс симуляции игры.Подготавливает начальные условия в инициализации</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">#и воспроизводит симуляцию через функцию simulate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">#Инициализирует три двери, одну из которых помечает как выигрышную, также создаётся игрок и &quot;ведущий&quot;, как часть игры</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"># с определённым паттерном поведения. def player_choose_door - функция первого выбора игрока.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby"># def player_choose_door_2 - функция повторного выбора игрока.Меняет атрибут смены двери и выбирает двери из тех</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby"># что не открыты(т.е. не выбраны ведущим) и уже не были выбраны.Т.е. происходит смена. Возможен вариант с выбором более</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby"># чем из одной двери</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby"># host_choose_door - работает по аналогии со вторым выбором игрока. Не занесена в инициализацию т.к. существует вариант</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby"># без предложения перевыбора игроку с выходом сразу на победу/поражение</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"># check_win Проверяет, верную ли дверь выбрал игрок и задаёт ему статус. Может сработать до двух раз. Не срабатывает</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby"># до вариатора(ниже), ведь ошибка может сработать раньше, чем эта функция понадобится</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby"># simulate - запускает выполнение симуляции после задания изначальных данных в инициализации. Запускается через верхний класс</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby"># behaviour_variator - вариатор, в зависимости от заданного для симуляций поведения, выполняет определённую функцию поведения</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby"># offer_change_classic - классический &quot;цикл поведения&quot; в Парадоксе.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby"># Выбор игрока - всегда выбор ведущего и открытие - предложение смены - да/нет - результат</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby"># offer_change_devil - вариант против игрока.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby"># Выбор игрока - если игрок выбрал правильное - предложение смены - да/нет - результат. Если игрок изначально выбрал</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby"># неверную дверь - выход на проигрыш.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby"># offer_change_angel - вариант за игрока.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby"># Выбор игрока - если игрок ошибся - предложение смены - да/нет- результат. Если игрок верен в первый раз - выход на победу</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby"># classic увеличивает шансы победы при согласии смены</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby"># devil приравнивает к нулю шансы победы при согласии смены(ведь изначально выбран верный вариант)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby"># angel приравнивает к нулю шанс поражение при согласии смены(ведь изначально выбран проигрышный вариант)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby"># ArgumentError только на задаваемый в высшем классе behaviour</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5a5e962fab4854505decdf4607f440b301fd34df">
  <div class="header">
    <h3>player.rb</h3>
    <h4>
      <span class="red">
  78.95%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>19</b> relevant lines.
      <span class="green"><b>15</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Player</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10000" data-linenumber="3">
            <span class="hits">10000</span>
            

            

            <code class="ruby">    @win_status = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10000" data-linenumber="4">
            <span class="hits">10000</span>
            

            

            <code class="ruby">    @change_status = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10000" data-linenumber="5">
            <span class="hits">10000</span>
            

            

            <code class="ruby">    @door_chosen = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def set(parameter, value)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="40052" data-linenumber="9">
            <span class="hits">40052</span>
            

            

            <code class="ruby">    case parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    when :win_status, :change_status</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25026" data-linenumber="11">
            <span class="hits">25026</span>
            

            

            <code class="ruby">      unless [true, false].include?(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="12">
            
            

            

            <code class="ruby">        raise ArgumentError, &quot;Значение параметра должно быть true/false&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    when :door_chosen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="15026" data-linenumber="15">
            <span class="hits">15026</span>
            

            

            <code class="ruby">      unless (1..3).include?(value)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">        raise ArgumentError, &quot;Значение door_chosen должно быть числом 1,2 или 3&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="19">
            
            

            

            <code class="ruby">      raise ArgumentError, &quot;Неизвестный параметр #{parameter}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="40052" data-linenumber="21">
            <span class="hits">40052</span>
            

            

            <code class="ruby">    instance_variable_set(&quot;@#{parameter}&quot;, value)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def get(parameter)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="95026" data-linenumber="25">
            <span class="hits">95026</span>
            

            

            <code class="ruby">    case parameter</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    when :win_status, :change_status, :door_chosen</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="95026" data-linenumber="27">
            <span class="hits">95026</span>
            

            

            <code class="ruby">      instance_variable_get(&quot;@#{parameter}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">      raise ArgumentError, &quot;Неизвестный параметр #{parameter}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attr_accessor :win_status, :change_status, :door_chosen</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">#Игрок. Реализовывать единый класс для игрока и ведущего нет смысла, общего слишком мало для полезности реализации</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">#Атрибуты - выиграл ли(bool), менял ли дверь(bool), выбранная дверь(int).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">#Атрибут выигрыша нужен для статистики, проверки для devil варианта и для формирования выборки дверей для ведущего</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"># Атрибут смены двери нужен для статистики</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"># Атрибут выбранной двери используется многократно</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"># Нижний класс, доступ через get/set, сторонние функции не показались полезными.ArgumentError в возможных местах.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"># Выиграл ли проверяется после первого выбора(для выбора ведущего) и после (если такая была) второго выбора.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"># Задаётся после создания дверей и первого выбора игрока</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"># Менял ли - положительно при втором выборе игрока, изначально и в других вариантах отрицательно</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"># Выбранная дверь задаётся первым выбором после создания дверей.Меняется при втором выборе</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="47e043f5c70714b058ed034e4d3a04955184365e">
  <div class="header">
    <h3>simulation.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>31</b> relevant lines.
      <span class="green"><b>31</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;game&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Simulation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize (behaviour, num_games)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2405" data-linenumber="5">
            <span class="hits">2405</span>
            

            

            <code class="ruby">    raise ArgumentError, &quot;Неверный вариант поведения ведущего&quot; unless [:classic, :devil, :angel].include?(behaviour)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2404" data-linenumber="6">
            <span class="hits">2404</span>
            

            

            <code class="ruby">    raise ArgumentError, &quot;Только положительное целочисленное&quot; unless num_games.is_a?(Integer) &amp;&amp; num_games &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="7">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    @behaviour = behaviour</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="8">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    @num_games = num_games</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="9">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    @wins_with_change = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="10">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    @losses_with_change = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="11">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    @wins_without_change = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="12">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    @losses_without_change = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2402" data-linenumber="13">
            <span class="hits">2402</span>
            

            

            <code class="ruby">    run_simulation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="14">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    print_results</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def run_simulation</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2702" data-linenumber="18">
            <span class="hits">2702</span>
            

            

            <code class="ruby">    @num_games.times do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27010001" data-linenumber="19">
            <span class="hits">27010001</span>
            

            

            <code class="ruby">      game = Game.new(@behaviour)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27010000" data-linenumber="20">
            <span class="hits">27010000</span>
            

            

            <code class="ruby">      game.simulate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27010000" data-linenumber="21">
            <span class="hits">27010000</span>
            

            

            <code class="ruby">      @wins_with_change += 1 if game.player.get(:win_status) &amp;&amp; game.player.get(:change_status)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27010000" data-linenumber="22">
            <span class="hits">27010000</span>
            

            

            <code class="ruby">      @losses_with_change += 1 if !game.player.get(:win_status) &amp;&amp; game.player.get(:change_status)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27010000" data-linenumber="23">
            <span class="hits">27010000</span>
            

            

            <code class="ruby">      @wins_without_change += 1 if game.player.get(:win_status) &amp;&amp; !game.player.get(:change_status)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="27010000" data-linenumber="24">
            <span class="hits">27010000</span>
            

            

            <code class="ruby">      @losses_without_change += 1 if !game.player.get(:win_status) &amp;&amp; !game.player.get(:change_status)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def print_results</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="29">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    wins_with_change_percentage = (@wins_with_change.to_f / @num_games * 100).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="30">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    losses_with_change_percentage = (@losses_with_change.to_f / @num_games * 100).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="31">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    wins_without_change_percentage = (@wins_without_change.to_f / @num_games * 100).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="32">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    losses_without_change_percentage = (@losses_without_change.to_f / @num_games * 100).round(2)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="34">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    puts &quot;Выигрыш без смены двери #{wins_without_change_percentage}% #{@wins_without_change} раз из #{@num_games}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="35">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    puts &quot;Выигрыш со сменой двери #{wins_with_change_percentage}% #{@wins_with_change} раз из #{@num_games}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="36">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    puts &quot;Проигрыш без смены двери #{losses_without_change_percentage}% #{@losses_without_change} раз из #{@num_games}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2401" data-linenumber="37">
            <span class="hits">2401</span>
            

            

            <code class="ruby">    puts &quot;Проигрыш со сменой двери #{losses_with_change_percentage}% #{@losses_with_change} раз из #{@num_games}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">Simulation.new(:classic, 10000)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">#Высший класс.Запускает инициализированное количество раз симуляцию game, для каждой из которых ведётся статистика</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"># ArgumentError на задаваемом поведении(для всех num_games игр) и самом количестве игр</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"># run_simulation запускает цикл симуляций. num_Games раз создаёт игру с инициализированными условиями, после чего</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"># запускает её симуляцию. После всего этого собирается статистика о победе/поражении и условии(с или без смены)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby"># print_results. После цикла симуляций выводит статистику по всем num_games симуляциям</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
